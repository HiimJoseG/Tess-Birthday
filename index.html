<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday Tessa!</title>
  <style>
    body {
      margin: 0;
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(to bottom, #ffe6f2, #a0e9ff);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }

    #card, #quiz, #result {
      display: none;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px 30px;
      border-radius: 15px;
      box-shadow: 0 0 10px #ff69b4;
      text-align: center;
      max-width: 420px;
      z-index: 1;
    }

    #startBtn, #nextBtn, #restartBtn {
      padding: 12px 25px;
      background: #ff69b4;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 10px;
    }

    h1 {
      color: #d63384;
    }

    .hello-kitty {
      width: 120px;
      margin-bottom: 10px;
    }

    .emoji-decor {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .emoji {
      position: absolute;
      font-size: 2rem;
      animation: floatEmoji 12s linear infinite;
      opacity: 0.8;
    }

    @keyframes floatEmoji {
      0% {
        transform: translateY(100vh) rotate(0deg);
      }
      100% {
        transform: translateY(-10vh) rotate(360deg);
      }
    }

    .question {
      margin: 20px 0;
      font-size: 1.2em;
    }

    .answers button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      background: #ffd6ec;
      border: 2px solid #ff69b4;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }

    #messageBox {
      background: #fff0fa;
      border: 2px dashed #ff69b4;
      padding: 10px;
      border-radius: 10px;
      margin-top: 15px;
      font-size: 1em;
      color: #333;
    }

    #timerScore {
      position: absolute;
      top: 15px;
      right: 20px;
      color: #d63384;
      font-size: 1.1em;
      font-weight: bold;
      z-index: 2;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }
  </style>
</head>
<body>

<canvas id="confetti"></canvas>
<div class="emoji-decor" id="emojiDecor"></div>

<div id="timerScore" style="display:none;">
  Time: <span id="timer">0</span>s  Score: <span id="liveScore">0</span>/10
</div>

<button id="startBtn">🎁 Click to Open, Tessa!</button>
<img class="hello-kitty" src="https://media.giphy.com/media/MWSRkVoNaC30A/giphy.gif" alt="Hello Kitty GIF" />

<div id="card">
 <img id="trex-result" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWFoMTh3Y2dyaTdxN2Rkd3B5OGd5bDNsZnQ4ZzEyYnM4YTJheHZxNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/JZLaL7vxYBMwOw4Vjd/giphy.gif" 
       alt="T-Rex GIF" 
       style="width: 120px; margin-bottom: 10px;" />
  <img class="hello-kitty" src="https://media.giphy.com/media/MWSRkVoNaC30A/giphy.gif" alt="Hello Kitty GIF" />
  <h1>🎉 Happy 16th Birthday, Tess! 🐚</h1>
  <p>You're awesome, great to talk to, super funny, and you're all around amazing (I think so). Keep being you! 💖</p>
  <div id="messageBox">

    Hey T,<br />
    Hope you have a great day (and birthday) also hope you pass that test! May your year be filled with joy, friends, and the courage to follow through with your goals. 🌊💙<br />
    — Computer nerd
  </div>
  <button id="nextBtn"> Wanna take a random quiz??? 🎮</button>
</div>

<div id="quiz">
   <img id="trex-result" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWFoMTh3Y2dyaTdxN2Rkd3B5OGd5bDNsZnQ4ZzEyYnM4YTJheHZxNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/JZLaL7vxYBMwOw4Vjd/giphy.gif" 
       alt="T-Rex Quiz" 
       style="width: 100px; margin: 0 auto 10px; display: block;" />
  <div class="question" id="question">Loading...</div>
  <div class="answers" id="answers"></div>
</div>

<!-- Moved result div outside quiz div -->
<div id="result">
  <h2>🎊 You did it! 🎊</h2>
  <img id="trex-result" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWFoMTh3Y2dyaTdxN2Rkd3B5OGd5bDNsZnQ4ZzEyYnM4YTJheHZxNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/JZLaL7vxYBMwOw4Vjd/giphy.gif" 
       alt="T-Rex Result" 
       style="width: 100px; margin-bottom: 10px;" />
  <p id="scoreText"></p>
  <div id="cakeSurprise" style="display:none; flex-direction: column; align-items: center; margin-top: 20px;">
    <img id="cakeImage" src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExYm54eDR0dnVrbzZmOHNnOGpxMnR1c2dlcnkwODljN2xnZjNzNXM5MCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/11USZ5ilAUYRMI/giphy.gif" alt="Pink Cake GIF" style="width: 150px; cursor: pointer; animation: bounce 1.2s infinite;" />
    <p style="color: #d63384; font-weight: bold;">🎂 Click the cake! 🎂</p>
  </div>
  <div id="cakeMessage" style="display:none; background: #fff0f9; border: 2px dashed #ff69b4; padding: 15px 25px; border-radius: 12px; font-size: 1.1em; margin-top: 15px; max-width: 400px; text-align: center;">
    🎉 Perfect score! You got them all right, geek. — Jose 
  </div>
  <button id="restartBtn">🔁 Play Again</button>
</div>

<script>
  const startBtn = document.getElementById('startBtn');
  const card = document.getElementById('card');
  const nextBtn = document.getElementById('nextBtn');
  const quiz = document.getElementById('quiz');
  const result = document.getElementById('result');
  const questionEl = document.getElementById('question');
  const answersEl = document.getElementById('answers');
  const scoreText = document.getElementById('scoreText');
  const restartBtn = document.getElementById('restartBtn');
  const cakeImage = document.getElementById('cakeImage');
  const cakeSurprise = document.getElementById('cakeSurprise');
  const cakeMessage = document.getElementById('cakeMessage');
  const timerScore = document.getElementById('timerScore');
  const timerEl = document.getElementById('timer');
  const liveScoreEl = document.getElementById('liveScore');

  const questions = [
    { q: "Which sea creature is a mammal?", options: ["Dolphin", "Starfish", "Jellyfish", "Crab"], answer: "Dolphin" },
    { q: "What color is Hello Kitty’s bow?", options: ["Red", "Pink", "Blue", "Yellow"], answer: "Red" },
    { q: "Which marine animal can change color?", options: ["Octopus", "Shark", "Dolphin", "Whale"], answer: "Octopus" },
    { q: "Which creature glows in the dark?", options: ["Jellyfish", "Crab", "Sea turtle", "Starfish"], answer: "Jellyfish" },
    { q: "Which is NOT a real sea creature?", options: ["Sea Bunny", "Leafy Sea Dragon", "Ocean Unicorn", "Sea Cucumber"], answer: "Ocean Unicorn" },
    { q: "Which Hello Kitty character is her twin?", options: ["Mimmy", "Dear Daniel", "Badtz-Maru", "My Melody"], answer: "Mimmy" },
    { q: "What creature has eight arms?", options: ["Octopus", "Starfish", "Squid", "Crab"], answer: "Octopus" },
    { q: "Which animal is called the 'sea cow'?", options: ["Manatee", "Dolphin", "Seal", "Otter"], answer: "Manatee" },
    { q: "Which marine animal has a shell?", options: ["Sea turtle", "Shark", "Octopus", "Jellyfish"], answer: "Sea turtle" },
    { q: "Which creature is a crustacean?", options: ["Crab", "Whale", "Shark", "Sea cucumber"], answer: "Crab" }
  ];

  let current = 0, score = 0, seconds = 0, timerInterval;

  startBtn.onclick = () => {
    startBtn.style.display = 'none';
    document.querySelector('.hello-kitty').style.display = 'none';
    card.style.display = 'block';
  };

  nextBtn.onclick = () => {
    card.style.display = 'none';
    quiz.style.display = 'block';
    startQuiz();
  };

  restartBtn.onclick = () => {
    result.style.display = 'none';
    startQuiz();
  };

  cakeImage.onclick = () => {
    cakeMessage.style.display = 'block';
  };

  function startQuiz() {
    score = 0;
    current = 0;
    seconds = 0;
    cakeSurprise.style.display = 'none';
    cakeMessage.style.display = 'none';
    quiz.style.display = 'block';
    result.style.display = 'none';
    timerScore.style.display = 'block';
    liveScoreEl.textContent = score;
    timerEl.textContent = seconds;
    clearInterval(timerInterval);
    timerInterval = setInterval(() => {
      seconds++;
      timerEl.textContent = seconds;
    }, 1000);
    showQuestion();
  }

  function showQuestion() {
    const q = questions[current];
    questionEl.textContent = q.q;
    answersEl.innerHTML = "";
    q.options.forEach(opt => {
      const btn = document.createElement('button');
      btn.textContent = opt;
      btn.onclick = () => {
        disableButtons();
        if (opt === q.answer) {
          btn.style.backgroundColor = 'lightgreen';
          score++;
        } else {
          btn.style.backgroundColor = 'salmon';
        }
        liveScoreEl.textContent = score;
        setTimeout(() => {
          current++;
          if (current < questions.length) {
            showQuestion();
          } else {
            showResult();
          }
        }, 700);
      };
      answersEl.appendChild(btn);
    });
  }

  function disableButtons() {
    answersEl.querySelectorAll('button').forEach(b => b.disabled = true);
  }

  function showResult() {
    quiz.style.display = 'none';
    result.style.display = 'block';
    scoreText.textContent = `You got ${score} out of ${questions.length} correct in ${seconds}s! 🎉`;
    clearInterval(timerInterval);
    startConfetti();
    if (score === questions.length) {
      cakeSurprise.style.display = 'flex';
    }
  }

  // Pink confetti setup
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });

  const confetti = [];
  for (let i = 0; i < 150; i++) {
    confetti.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 6 + 2,
      d: Math.random() * 50,
      color: `hsl(${320 + Math.random() * 40}, 100%, ${70 + Math.random() * 20}%)`,
      tilt: Math.random() * 10 - 10,
      tiltAngle: 0
    });
  }

  function drawConfetti() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let c of confetti) {
      ctx.beginPath();
      ctx.lineWidth = 2;
      ctx.strokeStyle = c.color;
      ctx.moveTo(c.x + c.tilt + c.r / 2, c.y);
      ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r / 2);
      ctx.stroke();
    }
    updateConfetti();
  }

  function updateConfetti() {
    for (let c of confetti) {
      c.y += Math.cos(c.d) + 1 + c.r / 2;
      c.x += Math.sin(c.d);
      c.tiltAngle += 0.1;
      c.tilt = Math.sin(c.tiltAngle) * 15;
      if (c.y > canvas.height) {
        c.y = -10;
        c.x = Math.random() * canvas.width;
      }
    }
  }

  function startConfetti() {
    setInterval(drawConfetti, 20);
  }

  // Floating emojis
  const emojiList = ["🐬", "🐠", "🐙", "🦑", "🐳", "🦀", "🐢", "🪼", "🌊"];
  const emojiContainer = document.getElementById('emojiDecor');
  for (let i = 0; i < 30; i++) {
    const e = document.createElement('div');
    e.classList.add('emoji');
    e.textContent = emojiList[Math.floor(Math.random() * emojiList.length)];
    e.style.left = `${Math.random() * 100}%`;
    e.style.top = `${Math.random() * 100}%`;
    e.style.animationDuration = `${6 + Math.random() * 6}s`;
    e.style.fontSize = `${1.5 + Math.random() * 1.5}rem`;
    emojiContainer.appendChild(e);
  }
</script>
</body>
</html>
